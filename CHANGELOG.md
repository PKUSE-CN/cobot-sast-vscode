# 发布日志

对 “**cobot-sast-vscode**” 扩展的所有重要更新都将记录在此文件中。

## [未发布]

* 无

## [0.0.1]

* 完成项目的搭建
* 实现了用户登录、项目上传、项目检测、项目结果展示定位等功能
* 编写了操作手册并制定了后续开发的任务计划

## [0.0.2]

* 检测结果增加了图标，现在可以通过图标颜色确认严重等级了
* 增加了按文件筛选检测结果的方法，现在可以通过右键某文件或者右键打开的编辑器窗口来筛选检测结果了
* 修复了一些显示问题

## [0.0.3]

* 修改config为存储在工作空间配置，防止更换电脑后mac和windows的路径问题(如果进行了工作空间文件夹配置，则优先使用工作空间文件夹配置)，现在必须在使用插件前打开一个文件夹或者将文件夹添加到工作区了
* 上传项目时增加了选择当前工作空间项目的选项
* 上传项目时增加了上传文件夹进度，现在可以看到上传的文件夹进度了
* 增加了配置设置 `cobot-sast-vscode.projectName` 即当前项目名，现在上传项目时会在输入项目名后自动存储项目名
* 增加了检测时自动匹配项目名的功能，现在会自动匹配配置文件中的项目名称即 `cobot-sast-vscode.projectName` 进行初步搜索了

## [1.0.0]

* 项目重构
* 更换token校验方式，现在再也不需要登录了
* 接口更换为openAPI接口，现在流程里不再需要projectId来定位获取项目信息了
* 项目上传修改为文件夹右键上传，会先压缩文件夹到缓存中再上传，压缩完成后会自动清除缓存中的压缩包
* 上传逻辑为先检查项目状态
  * 如果`返回检测状态`则进行判断
    * 如果 `0未检测`、`4检测中断` 则提示是否重新上传
      * 重新上传则$\color{orange} {调用更新代码接口} $
        * 然后afterUpload
      * 不重新上传则直接afterUpload
    * 如果 `1检测中`、`3等待中`、`5队列中`、`6进队列中` 则**递归**$\color{violet} {调用检测状态接口} $（目前接口缺失检测状态只能在那儿瞎等）
    * 如果 `2已完成` 则**提示是否重新上传**
      * 重新上传则$\color{orange} {调用更新代码接口} $
        * 然后afterUpload
      * 不重新上传则$\color{green} {调用检测结果接口} $
  * 如果`项目不存在`则
    * $\color{red} {调用上传接口} $
      * 然后afterUpload
* 上传完成后进行直接进行检测`afterUpLoad`
  * 上传完成后$\color{blue} {调用开始检测接口} $
  * 之后**循环**$\color{violet} {调用检测状态接口} $
  * 检测完成后$\color{green} {调用检测结果接口} $
* 修改了readme.md中的操作步骤并重新录制了操作流程

## [1.0.1]

* 解决fs.ReadStream操作冲突导致在MacOS 13.4下无法正确上传文件的问题

## [1.0.2]

* 最低兼容下放1.64.2，可能会产生未知问题

## [1.0.3]

* 增加了检测进度的显示
* 解决了之前首次进入检测时检测逻辑绕过状态判断的问题
* 更换readme无法显示教程gif图的问题，现在更换到公司外网图片服务器了
